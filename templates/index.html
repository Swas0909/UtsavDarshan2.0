<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UtsavDarshan - Locate Ganapati Pandals</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="nav-container">
                <h1><i class="fas fa-om"></i> UtsavDarshan</h1>
                <div class="nav-links">
                    <a href="{{ url_for('index') }}" class="active">Home</a>
                    <a href="{{ url_for('locations') }}">Locations</a>
                    <a href="{{ url_for('register_pandal') }}">Register Pandal</a>
                    <button class="login-btn"><i class="fas fa-user"></i> Login</button>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero fade-in">
            <div class="container">
                <h2>Welcome to UtsavDarshan</h2>
                <p>Discover and locate the most magnificent Ganapati Pandals across Mumbai and Maharashtra. Our platform helps you find the best pandals, view their details, and navigate to them easily using interactive maps.</p>
                <p><strong>Why UtsavDarshan?</strong> With the growing number of pandals each year, it's hard to keep track. We provide a centralized location to explore famous pandals, their history, timings, and exact locations. Whether you're a devotee or a tourist, find your way to the festivities effortlessly.</p>
                <div class="hero-buttons">
                    <a href="{{ url_for('locations') }}" class="btn"><i class="fas fa-map-marker-alt"></i> Choose a Location</a>
                    <a href="#pandals" class="btn btn-secondary"><i class="fas fa-list"></i> View Popular Pandals</a>
                </div>
            </div>
        </section>

        <section id="pandals" class="pandals slide-up">
            <div class="container">
                <h2>Famous Ganapati Pandals</h2>
                <div class="filter-container">
                    <div class="search-box">
                        <input type="text" id="pandal-search" placeholder="Search pandals...">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="filter-options">
                        <select id="filter-taluka">
                            <option value="">All Talukas</option>
                            {% for taluka in talukas %}
                            <option value="{{ taluka.name }}">{{ taluka.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="cards">
                    {% for pandal in pandals %}
                    <div class="card" data-taluka="{{ pandal.taluka }}">
                        <div class="card-image">
                            <img src="{{ pandal.image }}" alt="{{ pandal.name }}">
                            <div class="card-badge">{{ pandal.taluka }}</div>
                        </div>
                        <div class="card-content">
                            <h3>{{ pandal.name }}</h3>
                            <p class="card-description">{{ pandal.history[:100] }}...</p>
                            <p class="card-timings"><i class="far fa-clock"></i> <strong>Timings:</strong> {{ pandal.timings }}</p>
                            <div class="card-actions">
                                <a href="{{ url_for('pandal_detail', pandal_id=pandal.id) }}" class="btn"><i class="fas fa-info-circle"></i> Details</a>
                                <button class="btn map-btn" data-lat="{{ pandal.location.lat }}" data-lng="{{ pandal.location.lng }}"><i class="fas fa-map"></i> Map</button>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-container">
            <div class="feedback">
                <h3><i class="fas fa-comment-alt"></i> Feedback</h3>
                <form action="{{ url_for('feedback') }}" method="post" id="feedback-form">
                    <textarea name="feedback" placeholder="Share your feedback..." required></textarea>
                    <button type="submit" class="btn"><i class="fas fa-paper-plane"></i> Submit</button>
                </form>
                <div id="feedback-message" class="hidden">Thank you for your feedback!</div>
            </div>
            <div class="register">
                <h3><i class="fas fa-plus-circle"></i> Quick Register</h3>
                <form action="{{ url_for('register_pandal') }}" method="post" id="quick-register-form">
                    <input type="text" name="name" placeholder="Pandal Name" required>
                    <input type="text" name="location" placeholder="Location" required>
                    <textarea name="details" placeholder="Details"></textarea>
                    <button type="submit" class="btn"><i class="fas fa-check"></i> Register</button>
                </form>
                <div id="register-message" class="hidden">Registration submitted!</div>
            </div>
            <div class="contact">
                <h3><i class="fas fa-headset"></i> Contact Support</h3>
                <p><i class="fas fa-envelope"></i> Email: support@utsavdarshan.com</p>
                <p><i class="fas fa-phone"></i> Phone: +91 9876543210</p>
                <div class="social-links">
                    <a href="#" class="social-icon"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 UtsavDarshan. All rights reserved.</p>
        </div>
    </footer>

    <!-- Map Modal -->
    <div id="map-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Pandal Location</h3>
            <div id="map-container"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
